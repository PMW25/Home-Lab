# Basic SOC Home-Lab

## Objective

Creating a personalized setup where you can build virtual environments, play with cutting-edge tools, and simulate real-world scenarios, all from the comfort of your home.

### Skills Learned

- Network configuration & management
- Log Management & analysis
- Enhanced knowledge of network protocols and security vulnerabilities.
- Development of critical thinking and problem-solving skills in cybersecurity.

### Tools Used

- Virtual Machine workstation as the hypervisor 
- Attack vector such as Kali Linux
- Security Information and Event Management (SIEM) system for log ingestion and analysis.

## Steps

Virtualization route, setting up your environment:

1. Install a Hypervisor (VMware Workstation, VirtualBox, or Hyper-V) I personally like VMare.

    https://www.sysnettechsolutions.com/en/install-vmware-workstation/

2. Create Virtual Machines (VMs) for different components of your SOC. You can simulate various systems such as:

 - Attacker Machine: Kali Linux or Parrot OS for penetration testing tools.

   https://www.kali.org/get-kali/#kali-virtual-machines

 - Victim Machine: Windows and Linux OSes for simulating vulnerable systems.

   https://www.microsoft.com/en-us/software-download/windows10

3. Security Tools and Servers: A SIEM (like Splunk)

 - Now that the basics are installed, its time to download splunk. Splunk installation can vary depending on the OS you're currently using. You will need to create a free account to utilize the various Splunk software. Once in you would need to download Splunk based on your OS.

   https://www.splunk.com/en_us/download/splunk-enterprise.html?locale=en_us

   <img width="1034" alt="image" src="https://github.com/user-attachments/assets/4ff332d9-45fb-4854-b487-6c636b1f8673" />

4. Installing Splunk forwarder

- Installing Splunk Forwarder is very straightforward. First, we will download the latest forwarder from the official website here. As of writing this, Splunk Forwarder 9.0.4 is the newest version available on the site.

    ![image](https://github.com/user-attachments/assets/1b79d945-5a62-4dbf-9aed-6275a331ab71)

- Click on the installer and begin installing Splunk Forwarder, Don't forget to click the Check this box to accept the License Agreement. Select the Select the On-Premises Option as we are installing it on an on-premises appliance.

- Create an account for Splunk Forwarder. This will be used when connecting the Splunk forwarder to the Splunk Indexer.

   
- Once done, set up listener, we can specify the server's IP address and port number to ensure that our Splunk instance gets the logs from this host. By default, Splunk listens on port 9997 for any incoming traffic.

     ![image](https://github.com/user-attachments/assets/555b843a-a947-407e-b2cb-3f2ee28eea60)

- Installing using takes between 3-5 minutes

- If we had provided the information about the deployment server during the installation phase, our host details would be available in the Settings -> Forwarder Management tab, as shown below:
  
     ![Screenshot 2025-02-21 231458](https://github.com/user-attachments/assets/4c4be02a-16bf-47c2-946b-2c561f1fc3df)

 - Now that Splunk forwarder is installed, we will now configure our forwarder to send logs to our Splunk instance in the upcoming tasks.
  
 5. Configuring Splunk

 - Check Forwarder Management

 -  The Forwarder Management tab views and configures the deployment of servers/hosts.

      ![image](https://github.com/user-attachments/assets/b23adae4-a01c-44a6-9016-19f85cbef880)

 - Go to settings -> Forwarder Management tab to get the details of all deployment hosts. In an actual network, this tab will be filled with all the hosts and servers configured to send logs to Splunk Indexer.

      ![image](https://github.com/user-attachments/assets/13e0248e-6dbd-4cc9-9040-a40a207cccb5)

- It will appear here if we have properly configured the forwarder on the host. Now it's time to configure Splunk to receive the Event Logs.

- Click on Settings -> Add data. It shows all the options to add data from different sources.

    ![image](https://github.com/user-attachments/assets/f6455726-21ab-47f4-a7ca-7a1bc4710064)

- It provides us with three options for selecting how to ingest our data. We will choose the Forward option to get the data from Splunk Forwarder.

    ![image](https://github.com/user-attachments/assets/0369745e-f78a-421c-80c7-99a1944d47ed)

- In the Select Forwarders section, Click on the host coffelylab shown in the Available host(s) tab, and it will be moved to the Selected host(s) tab. Then, click Next.

    ![image](https://github.com/user-attachments/assets/04653b46-ca04-4f0f-a8c4-cfe9f398603e)

- It's time to select the log source that we need to ingest. The list shows many log sources to choose from. Click on Local Event Logs to configure receiving Event Logs from the host. Different Event Logs will appear in the list to choose from. As we know, various Event Logs are generated by default on the Windows host. 

   ![image](https://github.com/user-attachments/assets/9ed09ca2-783d-4114-b9bb-b0fef13eee7a)

- Create an index that will store the incoming Event logs. Once created, select the Index from the list and move to the next step.

 ![image](https://github.com/user-attachments/assets/89fd1fb0-bfc1-4e5d-9f4e-739680553802)

- The review tab summarizes the settings we just did to configure Splunk. Move to the next step.

 ![image](https://github.com/user-attachments/assets/37e0696c-3a7e-4921-b39f-7aa9739722f7)

- Click on the Start Searching tab. It will take you to the Search App. If everything goes smoothly, you should see the "Event Logs" immediately.

  ![image](https://github.com/user-attachments/assets/e236bf2b-d864-4ebd-838f-544c528ad9d1)

- Great! We have sucessfully configured Splunk to recieve Event Logs from the Window host.








    


    



    

  
     

   

   
   


 




